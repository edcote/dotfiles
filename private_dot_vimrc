set nocompatible

" Plugins
execute pathogen#infect()

" Color scheme
syntax on
set background=dark

if filereadable(expand("$HOME/.vim/colors/lunaperche.vim"))
  colorscheme lunaperche
else
  colorscheme ron
endif

if has("gui_running")
  set guifont=Terminus\ Medium\ 13
endif

" Whitespace
filetype plugin indent off
set shiftwidth=2
set tabstop=4
set softtabstop=2
set expandtab
set noautoindent
set nosmartindent

set list
set listchars=tab:\>\ ,trail:.,extends:>,precedes:<

function TrimWhiteSpace()
  %s/\s*$//
  ''
endfunction

autocmd FileWritePre * call TrimWhiteSpace()
autocmd FileAppendPre * call TrimWhiteSpace()
autocmd FilterWritePre * call TrimWhiteSpace()
autocmd BufWritePre * call TrimWhiteSpace()

" Interface
set nocursorline
set novisualbell
set ruler
set number
set laststatus=2
set nowrap
set backspace=indent,eol,start
let g:loaded_matchparen=1

" Search options
set ignorecase
set hlsearch
set incsearch

" Key mappings
if &term == "screen-256color"
  map <Esc>[1;5D <C-Left>
  map <Esc>[1;5C <C-Right>
endif

noremap <C-d> :bdelete<CR>
noremap <C-n> :bnext<CR>
noremap <C-p> :bprev<CR>

" Save files when window loses focus
autocmd FocusLost * silent! wa
